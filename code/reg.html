<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link href="https://cdn.quilljs.com/1.3.2/quill.snow.css" rel="stylesheet">
		<style type="text/css">
        .mui-content{margin-top: 12px;}
        .mui-btn{width: 95%;}
    </style>
	</head>

<body>
    <header class="mui-bar mui-bar-nav">
        <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
        <h1 class="mui-title">注册</h1>
    </header>
    <div class="mui-content">
        <form class="mui-input-group">
            <div class="mui-input-row">
                <label>账号</label>
                <input type="text" class="mui-input-clear" placeholder="请输入账号" id="account">
            </div>
            <div class="mui-input-row">
                <label>密码</label>
                <input type="password" class="mui-input-clear" placeholder="请输入密码" id="password">
            </div>
        </form>
        
        <div class="mui-content-padded" align="center">
            <button type="button" class="mui-btn mui-btn-blue" id="reg">注册</button>
        </div>
    </div>

<script src="js/mui.min.js"></script>
    <script type="text/javascript" charset="utf-8">
        mui.init();
        mui.plusReady(function(){
            var account=document.getElementById("account");
            var password=document.getElementById("password");
            var nickname=document.getElementById("nickname");
            var reg=document.getElementById("reg");
            reg.addEventListener('tap',function(){
                if(account.value.length==0){
                    plus.ui.toast("用户名不能为空");
                    return;
                }
                if(password.value.length==0){
                    plus.ui.toast("密码不能为空");
                    return;
                }
           
                mui.ajax('http://120.78.150.254:8080/Entity/Ud5f8dd0da5/Journal22/User',{
                    data:{
                        account:account.value,
                        password:password.value,
                        role:"AUTHOR"
                    },
                    dataType:'json',//数据格式类型
                    type:'POST',//http请求类型
                    	timeout:10000,//超时时间设置为10秒；
	                headers:{'Content-Type':'application/json'},
                    success:function(obj){
				//alert(obj.toString());
				alert("提交成功");
			},
			error:function(obj){
				alert("提交失败");
			}
                });
                
            })
        })
    </script>

</html>